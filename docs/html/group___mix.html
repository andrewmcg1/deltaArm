<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RC Pilot: Mix</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="RC Pilot"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RC Pilot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___mix.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#enumval-members">Enumerator</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Mix</div></div>
</div><!--header-->
<div class="contents">

<p>Functions to mix orthogonal inputs to motor controls.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga67ea8592b7ced96ca53dec58434397e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga67ea8592b7ced96ca53dec58434397e8">MAX_INPUTS</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:ga67ea8592b7ced96ca53dec58434397e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">up to 6 control inputs (roll,pitch,yaw,z,x,y)  <br /></td></tr>
<tr class="separator:ga67ea8592b7ced96ca53dec58434397e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade0290e69c8568076b6f2425f768bc4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#gade0290e69c8568076b6f2425f768bc4e">MAX_ROTORS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:gade0290e69c8568076b6f2425f768bc4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">up to 8 rotors  <br /></td></tr>
<tr class="separator:gade0290e69c8568076b6f2425f768bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gafa174925d6ae51fdcc74aeb6c350e25a"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#gafa174925d6ae51fdcc74aeb6c350e25a">rotor_layout_t</a></td></tr>
<tr class="memdesc:gafa174925d6ae51fdcc74aeb6c350e25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum for possible mixing matrices defined here  <br /></td></tr>
<tr class="separator:gafa174925d6ae51fdcc74aeb6c350e25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga88774c6396ee1c485207efd727400cf2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a> { <br />
&#160;&#160;<a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2a7de8a4ac61f8e44d0dc9e866fe39f8d6">LAYOUT_4X</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2aaedef6058bbfad72e2f22fd0b7ff9fe7">LAYOUT_4X2</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2a55a4b69d5ed3bb3b469fd51bfb14ede5">LAYOUT_4PLUS</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2a3ab69ba6cee5df6dc20bf47efe1a3783">LAYOUT_6X</a>
, <br />
&#160;&#160;<a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2abf071ab08877bac622740e852718d794">LAYOUT_6X2</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2a26653ca2c6f30775b51323ae16153771">LAYOUT_8X</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2acd23b45e426a2ba4317b849ec6043115">LAYOUT_6DOF_ROTORBITS</a>
, <a class="el" href="group___mix.html#gga88774c6396ee1c485207efd727400cf2a0cd701cdf6256bf5f7753730122f84f2">LAYOUT_6DOF_5INCH_MONOCOQUE</a>
<br />
 }</td></tr>
<tr class="memdesc:ga88774c6396ee1c485207efd727400cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum for possible mixing matrices defined here  <a href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">More...</a><br /></td></tr>
<tr class="separator:ga88774c6396ee1c485207efd727400cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9233ef161ad0c14bf86f7735f6acaeb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga9233ef161ad0c14bf86f7735f6acaeb6">mix_init</a> (<a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a> layout)</td></tr>
<tr class="memdesc:ga9233ef161ad0c14bf86f7735f6acaeb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiallizes the mixing matrix for a given input layout.  <br /></td></tr>
<tr class="separator:ga9233ef161ad0c14bf86f7735f6acaeb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ab2d2099fa06beb894b189b2bbf0d72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga9ab2d2099fa06beb894b189b2bbf0d72">mix_all_controls</a> (double u[6], double *mot)</td></tr>
<tr class="memdesc:ga9ab2d2099fa06beb894b189b2bbf0d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the vector mot with the linear combination of XYZ, roll pitch yaw. Not actually used, only for testing.  <br /></td></tr>
<tr class="separator:ga9ab2d2099fa06beb894b189b2bbf0d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f250244589e50ceaeda25fd1f705dbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga5f250244589e50ceaeda25fd1f705dbf">mix_check_saturation</a> (int ch, double *mot, double *min, double *max)</td></tr>
<tr class="memdesc:ga5f250244589e50ceaeda25fd1f705dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the min and max inputs u that can be applied to a current set of motor outputs before saturating any one motor.  <br /></td></tr>
<tr class="separator:ga5f250244589e50ceaeda25fd1f705dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f844ec00ef6d1d39c0ae975e24902fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mix.html#ga3f844ec00ef6d1d39c0ae975e24902fa">mix_add_input</a> (double u, int ch, double *mot)</td></tr>
<tr class="memdesc:ga3f844ec00ef6d1d39c0ae975e24902fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mixes the control input u for a single channel ch to the existing motor array mot.  <br /></td></tr>
<tr class="separator:ga3f844ec00ef6d1d39c0ae975e24902fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions to mix orthogonal inputs to motor controls. </p>
<p>&lt;include/mix.h&gt;</p>
<p>MultiRotors are controlled by mixing roll, pitch, yaw, and throttle control oututs, a linear combination of which forms the control output to each motor. The coefficients to this combination is stored in a mixing matrix based on rotor layout. Also included here are functions to parse configuration strings and do the actual mixing. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga67ea8592b7ced96ca53dec58434397e8" name="ga67ea8592b7ced96ca53dec58434397e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67ea8592b7ced96ca53dec58434397e8">&#9670;&#160;</a></span>MAX_INPUTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_INPUTS&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>up to 6 control inputs (roll,pitch,yaw,z,x,y) </p>

</div>
</div>
<a id="gade0290e69c8568076b6f2425f768bc4e" name="gade0290e69c8568076b6f2425f768bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade0290e69c8568076b6f2425f768bc4e">&#9670;&#160;</a></span>MAX_ROTORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ROTORS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>up to 8 rotors </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gafa174925d6ae51fdcc74aeb6c350e25a" name="gafa174925d6ae51fdcc74aeb6c350e25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa174925d6ae51fdcc74aeb6c350e25a">&#9670;&#160;</a></span>rotor_layout_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a> <a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enum for possible mixing matrices defined here </p>
<p>possible rotor configurations, see mixing_matrix_defs.h </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga88774c6396ee1c485207efd727400cf2" name="ga88774c6396ee1c485207efd727400cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88774c6396ee1c485207efd727400cf2">&#9670;&#160;</a></span>rotor_layout_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enum for possible mixing matrices defined here </p>
<p>possible rotor configurations, see mixing_matrix_defs.h </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2a7de8a4ac61f8e44d0dc9e866fe39f8d6" name="gga88774c6396ee1c485207efd727400cf2a7de8a4ac61f8e44d0dc9e866fe39f8d6"></a>LAYOUT_4X&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2aaedef6058bbfad72e2f22fd0b7ff9fe7" name="gga88774c6396ee1c485207efd727400cf2aaedef6058bbfad72e2f22fd0b7ff9fe7"></a>LAYOUT_4X2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2a55a4b69d5ed3bb3b469fd51bfb14ede5" name="gga88774c6396ee1c485207efd727400cf2a55a4b69d5ed3bb3b469fd51bfb14ede5"></a>LAYOUT_4PLUS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2a3ab69ba6cee5df6dc20bf47efe1a3783" name="gga88774c6396ee1c485207efd727400cf2a3ab69ba6cee5df6dc20bf47efe1a3783"></a>LAYOUT_6X&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2abf071ab08877bac622740e852718d794" name="gga88774c6396ee1c485207efd727400cf2abf071ab08877bac622740e852718d794"></a>LAYOUT_6X2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2a26653ca2c6f30775b51323ae16153771" name="gga88774c6396ee1c485207efd727400cf2a26653ca2c6f30775b51323ae16153771"></a>LAYOUT_8X&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2acd23b45e426a2ba4317b849ec6043115" name="gga88774c6396ee1c485207efd727400cf2acd23b45e426a2ba4317b849ec6043115"></a>LAYOUT_6DOF_ROTORBITS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga88774c6396ee1c485207efd727400cf2a0cd701cdf6256bf5f7753730122f84f2" name="gga88774c6396ee1c485207efd727400cf2a0cd701cdf6256bf5f7753730122f84f2"></a>LAYOUT_6DOF_5INCH_MONOCOQUE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3f844ec00ef6d1d39c0ae975e24902fa" name="ga3f844ec00ef6d1d39c0ae975e24902fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f844ec00ef6d1d39c0ae975e24902fa">&#9670;&#160;</a></span>mix_add_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mix_add_input </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mixes the control input u for a single channel ch to the existing motor array mot. </p>
<p>Mixes the control input u for a single channel ch corresponding to throttle roll pitch etc to the existing motor array mot. No saturation is done, the input u should be checked for saturation validity with check_channel_saturation() first. Used in mixing_matrix.c</p>
<p>Usage: controller.c, line 457 controller.c, line 465 controller.c, line 473 controller.c, line 480 controller.c, line 489 controller.c, line 500 controller.c, line 508</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u</td><td>control input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mot</td><td>array of motor channels</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ga9ab2d2099fa06beb894b189b2bbf0d72" name="ga9ab2d2099fa06beb894b189b2bbf0d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ab2d2099fa06beb894b189b2bbf0d72">&#9670;&#160;</a></span>mix_all_controls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mix_all_controls </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>u</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills the vector mot with the linear combination of XYZ, roll pitch yaw. Not actually used, only for testing. </p>
<p>Fills the vector mot with the linear combination of roll pitch yaw and throttle based on mixing matrix. If dof = 6, X and Y are also added. Outputs are blindly saturated between 0 and 1. This is for rudimentary mixing and testing only. It is recommended to check for saturation for each input with check_channel_saturation then add inputs sequentially with add_mixed_input() instead. Used in mixing_matrix.c</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>6 control inputs </td></tr>
    <tr><td class="paramname">mot</td><td>pointer to motor outputs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ga5f250244589e50ceaeda25fd1f705dbf" name="ga5f250244589e50ceaeda25fd1f705dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f250244589e50ceaeda25fd1f705dbf">&#9670;&#160;</a></span>mix_check_saturation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mix_check_saturation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the min and max inputs u that can be applied to a current set of motor outputs before saturating any one motor. </p>
<p>This is a precurser check to be done before marching a feedback controller forward so we know what to saturate the transfer function output at. Outputs min and max are given as pointers that are written back to. The mot motor array argument is the array of current motor outputs that the new channel ch will be adding onto.</p>
<p>Usage: controller.c, line 460 controller.c, line 468 controller.c, line 476 controller.c, line 484 controller.c, line 495 controller.c, line 503</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mot</td><td>The array of motor signals to be added onto </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">min</td><td>The minimum possible input without saturation </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">max</td><td>The maximum possible input without saturation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ga9233ef161ad0c14bf86f7735f6acaeb6" name="ga9233ef161ad0c14bf86f7735f6acaeb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9233ef161ad0c14bf86f7735f6acaeb6">&#9670;&#160;</a></span>mix_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mix_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mix.html#ga88774c6396ee1c485207efd727400cf2">rotor_layout_t</a>&#160;</td>
          <td class="paramname"><em>layout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiallizes the mixing matrix for a given input layout. </p>
<p>For a given number of rotors, layout character ('X','+') and degrees of freedom in control input (4 or 6), this selects the correct predefined mixing matrix from mixing_matrix_defs.h. The matrix is kept locally in mixing _matrix.c to prevent accidental misuse or modification. Use the other function from mixing_matrix.c below to interface with it. Used in mixing_matrix.c</p>
<p>Usage: main.c, line 345</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">layout</td><td>The layout enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
